<%-include('../adminLayouts/adminheader.ejs') %>
 
<div class="sidebar">
  <div style="padding: 16px;color: #FDC33D;">
     <p> <img src="/img/img_avatar1.png" class="avatar"> Admin</p>
  </div>
  <a class="active" href="/admin/orderManagement"><img src="/img/shopping-cart-256.png" style="width:30px;height: 30px;">  Orders</a>
  <a href="/admin/userDisplay"><img src="/img/users.png" style="width:30px;height: 30px;"> Users</a>
  <a href="/admin/productDisplay"><img src="/img/product.png" style="width:30px;height: 30px;"> Product</a>
  <a href="/admin/transactions"><img src="/img/payment.png" style="width:30px;height: 30px;"> Transactions</a>
  <a href="/admin/coupons"><img src="/img/coupon.png" style="width:30px;height: 30px;"> Coupons</a>
  <a href="/admin/reports"><img src="/img/report-3-256.png" style="width:30px;height: 30px;"> Reports</a>
</div>
<div class="content">
  <div class="container-fluid" style="background-color: antiquewhite;padding: 10px;height: auto;">
  <form>
    <div class="input-group" style="padding: 20px;">
        <input type="text" class="form-control rounded" name="search" placeholder="Search product">
        <input type="submit" class="btn btn-outline-primary" value="search">
    </div>
</form>


<div class="container-fluid pt-5">
    <div class="row px-xl-5 align-items-center justify-content-center">
        <div class="col-lg-10 table-responsive mb-5">
            <table id="myTable" class="table table-bordered text-center mb-0">
                <thead class="bg-secondary text-dark">
                    <tr>
                        <th>No</th>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Shipped to</th>
                        <th>Status</th>
                        <th>Order Date</th>
                    </tr>
                </thead>
                <tbody class="align-middle">
                    <%= console.log(orders);  %>
                    <% orders.forEach((order, index) => { %>
                        <% order.product.forEach((productItem, productIndex) => { %>
                            <% order.address.forEach((addressItem, addressIndex) => { %>
                                <tr>
                                    <td><%= index + 1 %></td>
                                    <td><%= productItem.productID.pname %></td>
                                    <td><%= productItem.price %></td>
                                    <td><%= productItem.quantity %></td>
                                    <td><%= addressItem.addressID ? addressItem.addressID.address1 : 'N/A' %></td>
                                    <% console.log(addressItem); %>
                                    <td><%= order.status %></td>
                                    <td><%= order.createdAt.toDateString() %></td>
                                    <td>
                                        
                                </tr>
                            <% }); %>
                        <% }); %>
                    <% }); %>
                </tbody>
            </table>
        </div>
    </div>
</div>


          


  <%-include('../adminLayouts/adminfooter.ejs') %>