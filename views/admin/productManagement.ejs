<%-include('../adminLayouts/adminheader.ejs') %>
 
<div class="sidebar">
  <div style="padding: 16px;color: #FDC33D;">
     <p> <img src="/img/img_avatar1.png" class="avatar"> Admin</p>
  </div>
  <a href="/admin/orderManagement"><img src="/img/shopping-cart-256.png" style="width:30px;height: 30px;">  Orders</a>
  <a href="/admin/userDisplay"><img src="/img/users.png" style="width:30px;height: 30px;"> Users</a>
  <a class="active" href="/admin/productDisplay"><img src="/img/product.png" style="width:30px;height: 30px;"> Product</a>
  <a href="/admin/transactions"><img src="/img/payment.png" style="width:30px;height: 30px;"> Transactions</a>
  <a href="/admin/coupons"><img src="/img/coupon.png" style="width:30px;height: 30px;"> Coupons</a>
  <a href="/admin/reports"><img src="/img/report-3-256.png" style="width:30px;height: 30px;"> Reports</a>
</div>
<div class="content">
  <div class="container-fluid" style="background-color: antiquewhite;padding: 10px;height: auto;">
  <form>
    <div class="input-group" style="padding: 20px;">
        <input type="text" class="form-control rounded" name="search" placeholder="Search product">
        <input type="submit" class="btn btn-outline-primary" value="search">
    </div>
</form>
<div class="container-fluid" style="text-align: center;">
    <button type="button" class="btn btn-outline-success"><a href="/admin/addProduct">ADD PRODUCT</a></button>
</div>

<div class="container-fluid pt-5">
  <div class="row px-xl-5 align-items-center justify-content-center">
      <div class="col-lg-10 table-responsive mb-5">
          <table id="myTable" class="table table-bordered text-center mb-0">
              <thead class="bg-secondary text-dark">
                  <tr>
                      <th>No</th>
                      <th>Product Name</th>
                      <th>Price</th>
                      <th>Description</th>
                      <th>Category</th>
                      <th>Image</th>
                      <th>Quantity</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody class="align-middle">
                  <% if(product.length>0) {
                      for(let i=1;i<product.length;i++) { %>
                          <tr>
                              <td>
                                  <%= i %>
                              </td>
                             
                              <td>
                                  <%= product[i].pname %>
                              </td>
                              <td>
                                  <%= product[i].price %>
                              </td>
                              <td>
                                  <%= product[i].pdesc %>
                              </td>
                              <td>
                                  <%= product[i].pcat %>
                              </td>
                              <td>
                                <% if(product[i].pimage) { %>
                                            <img src="/productImages/<%= product[i].pimage %>" alt="Profile image"
                                                width="70vw" height="70vh">
                                            <% } %>
                              </td>
                              <td>
                                  <%= product[i].pquantity %>
                              </td>
                              <td>
                                  <a style="text-decoration:none;"
                                      href="/admin/editProduct?id=<%= product[i]._id%>">Edit</a> <br>
                                  <a onclick="return confirm('Do you want to delete')"
                                      style="text-decoration:none;"
                                      href="/admin/deleteProduct?id=<%= product[i]._id%>">Delete</a>
                              </td>
                          </tr>
                          <% } %>
                              <% } %>
              </tbody>
          </table>
          <!-- Pagination -->
<ul class="pagination">
    <% for (let i = 1; i <= totalPages; i++) { %>
        <li class="page-item <%= page == i ? 'active' : '' %>">
            <a class="page-link" href="/admin/productDisplay?page=<%= i %>"><%= i %></a>
        </li>
    <% } %>
</ul>
      </div>
      



  <%-include('../adminLayouts/adminfooter.ejs') %>
  